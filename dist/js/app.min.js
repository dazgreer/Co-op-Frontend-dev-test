var request=new XMLHttpRequest,url="https://coop-mock-test-api.herokuapp.com/",raised=document.querySelector("#raised"),target=document.querySelector("#target"),progress=document.querySelector("#progress"),figures=document.querySelector("#figures"),raisedTotal=0,raisedTarget=0,progressPercentage=0,updateProgress=function(){raised.innerText=raisedTotal.toLocaleString("en",{minimumFractionDigits:2}),progressPercentage=raisedTotal/raisedTarget*100,progress.value=progressPercentage};request.open("GET",url,!0),request.onload=function(){if(200<=request.status&&request.status<400){var e=JSON.parse(request.responseText);raisedTotal=e.raised,raisedTarget=e.target,target.innerText=raisedTarget.toLocaleString("en"),updateProgress(),progress.classList.add("show"),figures.classList.add("show")}else console.log("error")},request.onerror=function(){alert(" There was an error... do something")},request.send();var form=document.getElementById("frm-donate"),input=document.getElementById("frm-donate__donation"),success=document.createElement("p"),successText=form.getAttribute("data-success"),donateText=form.getAttribute("data-donate");success.classList.add("success"),success.id="success",form.addEventListener&&(form.addEventListener("submit",function(e){e.preventDefault();var t=Number(input.value);0<t&&(raisedTotal+=t,raised.innerText=raisedTotal.toLocaleString("en",{minimumFractionDigits:2}),updateProgress(),100<=progressPercentage?(figures.classList.add("achieved"),success.innerHTML=successText):success.innerHTML=donateText,document.getElementById("success")||success.appendAfter(figures),input.value="",console.log("submit form"))}),Element.prototype.appendAfter=function(e){e.parentNode.insertBefore(this,e.nextSibling)});
//# sourceMappingURL=app.min.js.map
